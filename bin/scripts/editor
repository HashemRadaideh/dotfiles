#!/bin/zsh

# if ! tmux has-session -t editor 2> /dev/null; then
#   kitty -e zsh -c "tmux new -s editor $EDITOR"
# else
#   kitty -e zsh -c "tmux -u attach -t editor"
# fi

# if ! tmux has-session -t editor 2> /dev/null; then
#   if [ -z "$1" ]; then
#     kitty -e zsh -c `tmux new -s editor $EDITOR`
#   else
#     kitty -e zsh -c `tmux new -s editor "$EDITOR $1"`
#   fi
# else
#   if [ -z "$1" ]; then
#     kitty -e zsh -c `tmux -u attach -t editor`
#   else
#     kitty -e zsh -c `tmux -u attach -t editor "$1"`
#   fi
# fi

if [ -z "$1" ]; then
  if ! tmux has-session -t editor 2> /dev/null; then
    kitty -e zsh -c "tmux -u new -s editor $EDITOR"
  else
    kitty -e zsh -c "tmux -u attach -t editor"
  fi
else
  kitty -e zsh -c "$EDITOR $1"
fi
