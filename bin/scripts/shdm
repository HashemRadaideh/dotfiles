#!/bin/zsh

# Simple display manager

file="$(fzf --layout=reverse --cycle <<< `echo "$(\ls ~/.bin/xinit | sort)\ntmux\n$(tty)\npower off\nreboot\nsleep\nlogout"`)"

if [ -n "$file" ]; then
  case "$file" in
    "logout") exit ;;
    "sleep") systemctl suspend && exit ;;
    "reboot") systemctl reboot ;;
    "power off") systemctl poweroff ;;
    "$(tty)") \clear ;;
    "tmux") exec fuzmux ;;
    *) exec startx ~/.bin/xinit/"$file" ;;
  esac
fi
